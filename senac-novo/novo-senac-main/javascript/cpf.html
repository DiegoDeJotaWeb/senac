<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <form>
        <label for="">CPF</label>
        <input type="text" name="cpf" id="cpf" maxlength="11">
        <input type="button" value="Validar CPF" name="validar" id="validar" onclick="valida()">
    </form>

    <script>

        function valida() {
            if (valida_cpf(document.getElementById("cpf").value)) {
                alert("CPF valido");
            } else {
                alert('CPF invalido');
            }
        }

        function valida_cpf(cpf) {

            var numeros, digitos, soma, i, resultado, digitos_iguais;
            digitos_iguais = 1;

            if (cpf.length < 11)
                return false;

            for (i = 0; i < cpf.length - 1; i++)
                if (cpf.charAt(i) != cpf.charAt(i + 1)) {
                    digitos_iguais = 0;
                    break;
                }
            if (!digitos_iguais) {
                numeros = cpf.substring(0, 9);
                digitos = cpf.substring(9);
                soma = 0;

                for (i = 10; i > 1; i--)
                    soma += numeros.charAt(10 - i) * i;
                resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;

                if (resultado != digitos.charAt(0))
                    return false;

                numeros = cpf.substring(0, 10);
                soma = 0;

                for (i = 11; i > 1; i--)
                    soma += numeros.charAt(11 - i) * i;
                resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;

                if (resultado != digitos.charAt(1))
                    return false;

                return true;

            } else
                return false;
        }





        // function TestaCPF(strCPF) {
        //     var Soma;
        //     var Resto;
        //     Soma = 0;
        //     if (strCPF == "00000000000") return false;

        //     for (i = 1; i <= 9; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);
        //     Resto = (Soma * 10) % 11;

        //     if ((Resto == 10) || (Resto == 11)) Resto = 0;
        //     if (Resto != parseInt(strCPF.substring(9, 10))) return false;

        //     Soma = 0;
        //     for (i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);
        //     Resto = (Soma * 10) % 11;

        //     if ((Resto == 10) || (Resto == 11)) Resto = 0;
        //     if (Resto != parseInt(strCPF.substring(10, 11))) return false;
        //     return true;
        // }
        // var strCPF = "0123456789";
        // alert(TestaCPF(strCPF));
    </script>

</body>

</html>